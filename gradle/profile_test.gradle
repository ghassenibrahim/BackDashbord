def profiles = "test"

flyway {
    url = 'jdbc:postgresql://173.212.198.199:5432/finance'
    user = 'acadmin'
    password = 'ac-admin!12345'
}

processResources {
    inputs.property('version', version)
    inputs.property('springProfiles', profiles)
    filesMatching("**/application.yml") {
        filter {
            it.replace("#spring.profiles.active#", profiles)
        }
    }
}

bootJar.dependsOn processResources
